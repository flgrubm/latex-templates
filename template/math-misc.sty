%%   Copyright (C) 2023 Fabian Lukas Grubm√ºller
%%
%%   This program is free software: you can redistribute it and/or modify
%%   it under the terms of the GNU General Public License as published by
%%   the Free Software Foundation, either version 3 of the License, or
%%   (at your option) any later version.
%%
%%   This program is distributed in the hope that it will be useful,
%%   but WITHOUT ANY WARRANTY; without even the implied warranty of
%%   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%%   GNU General Public License for more details.
%%
%%   A copy of the GNU General Public License can be found in `COPYING`.

\NeedsTeXFormat{LaTeX2e}
\ProvidesExplPackage{math-misc}{2023-11-06}{0.1}{Generic math stuff}
\prop_gput:Nnn \g_msg_module_type_prop { math-misc } { Package }

\RequirePackage{l3keys2e}

\keys_define:nn { math-misc }
{
    tikz     .code:n = { \homework_import_tikz },
    tikz     .value_forbidden:n = true,
}

\cs_set_protected:Npn \homework_import_tikz {%
    \ExplSyntaxOff
    \RequirePackage{tikz}
    \usetikzlibrary{%
        , arrows.meta%
        , calc%
        , decorations.pathmorphing%
        , decorations.pathreplacing%
        , decorations.markings%
        , decorations.shapes%
        , decorations.text%
        , intersections%
        , shapes%
    }
    \ExplSyntaxOn
}

\ProcessKeysOptions { math-misc } % process the keys that were passed to us
